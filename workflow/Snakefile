import sys
import os
import pandas
import numpy

configfile: "config/config.yaml"
pepfile: "schemas/project_config.yaml"

database = config["database"]
outdir = config["outdir"]
threshold = config["threshold"]
blacklisting = config["blacklisting"]
debug = config["debug"]

sample_sheet = pep.sample_table

sample_grouped = sample_sheet.groupby("type")
reads_sheet = sample_grouped.get_group("Reads")
assembly_sheet = sample_grouped.get_group("Assembly")


rule all:
  input:
    serovar = "%s/serovar.tsv" %outdir

include: "rules/detect_serovars.smk"
include: "rules/summarise_serovars.smk"

